<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Happy Birthday</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Dancing+Script:wght@600&display=swap');
      
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background: linear-gradient(135deg, #8a2be2, #4b0082);
        margin: 0;
        overflow: hidden;
        font-family: 'Poppins', sans-serif;
        color: #333;
      }

      .card-container {
        position: relative;
        width: 300px;
        height: 420px;
        perspective: 2500px;
        margin-bottom: 80px;
      }

      .profile-image-container {
        position: absolute;
        width: 100px;
        height: 100px;
        border-radius: 50%;
        overflow: hidden;
        top: -50px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 100;
        border: 5px solid white;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .profile-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .music-controls {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: rgba(255, 255, 255, 0.9);
        padding: 12px;
        border-radius: 12px;
        z-index: 100;
        display: flex;
        gap: 12px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .music-controls button {
        background: linear-gradient(to right, #ff758c, #ff7eb3);
        border: none;
        border-radius: 8px;
        padding: 10px 15px;
        cursor: pointer;
        transition: all 0.3s;
        color: white;
        font-weight: 600;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .music-controls button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .navigation {
        position: absolute;
        bottom: -60px;
        left: 0;
        right: 0;
        display: flex;
        justify-content: center;
        gap: 20px;
      }

      .navigation button {
        background: linear-gradient(to right, #6a11cb, #8a2be2);
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        cursor: pointer;
        transition: all 0.3s;
        color: white;
        font-weight: 600;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }

      .navigation button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
      }

      .navigation button:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .birthdayCard {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        transition: transform 1s;
      }

      .page {
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 15px;
        overflow: hidden;
        transform-origin: left;
        transition: transform 0.6s ease-in-out;
        backface-visibility: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      .cardFront {
        background: linear-gradient(to right, #ffffff, #f8f9fa);
        z-index: 50;
      }

      .cardInside {
        background: linear-gradient(to right, #ffffff, #f8f9fa);
        z-index: 40;
      }

      .cardPage2 {
        background: linear-gradient(to right, #fff8e1, #fffde7);
        z-index: 30;
      }

      .cardPage3 {
        background: linear-gradient(to right, #e8f5e9, #e0f7fa);
        z-index: 20;
      }
      
      .cardPage4 {
        background: linear-gradient(to right, #f5f1e8, #e0e5fa);
        z-index: 10;
      }

      .happy {
        text-align: center;
        margin-top: 60px; /* Moved down from 30px */
        margin-left: 20px;
        margin-right: 20px;
        background: linear-gradient(120deg, #ff758c, #ff7eb3);
        transition: all 0.3s;
        padding: 15px;
        border-radius: 12px;
        color: white;
        font-weight: 600;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }

      .balloons {
        position: absolute;
        top: 120px; /* Moved down from 80px */
        width: 100%;
        height: 200px;
      }

      .balloon-1,
      .balloon-2,
      .balloon-3,
      .balloon-4 {
        position: absolute;
        width: 65px;
        height: 85px;
        border-radius: 50%;
        animation: float 4s ease-in-out infinite;
        filter: drop-shadow(0 5px 15px rgba(0, 0, 0, 0.2));
      }

      .balloon-1 {
        background-color: rgba(255, 87, 151, 0.9);
        left: 10px;
        top: 50px;
        animation-delay: 0s;
      }

      .balloon-2 {
        background-color: rgba(134, 87, 255, 0.9);
        left: 80px;
        top: 20px;
        animation-delay: 0.5s;
      }

      .balloon-3 {
        background-color: rgba(255, 192, 87, 0.9);
        left: 150px;
        top: 50px;
        animation-delay: 1s;
      }

      .balloon-4 {
        background-color: rgba(87, 204, 255, 0.9);
        left: 220px;
        top: 30px;
        animation-delay: 1.5s;
      }

      .balloon-1::before,
      .balloon-2::before,
      .balloon-3::before,
      .balloon-4::before {
        content: "";
        position: absolute;
        width: 1px;
        height: 100px;
        background-color: rgba(255, 255, 255, 0.7);
        top: 85px;
        left: 33px;
      }

      .balloon-1::after,
      .balloon-2::after,
      .balloon-3::after,
      .balloon-4::after {
        content: "";
        position: absolute;
        border-right: 7px solid transparent;
        border-left: 7px solid transparent;
        top: 84px;
        left: 26px;
      }

      .balloon-1::after {
        border-bottom: 10px solid rgba(255, 87, 151, 0.9);
      }

      .balloon-2::after {
        border-bottom: 10px solid rgba(134, 87, 255, 0.9);
      }

      .balloon-3::after {
        border-bottom: 10px solid rgba(255, 192, 87, 0.9);
      }

      .balloon-4::after {
        border-bottom: 10px solid rgba(87, 204, 255, 0.9);
      }

      p {
        font-family: 'Dancing Script', cursive;
        margin: 20px; /* Adjusted margin */
        color: #333;
        font-size: 14px;
        line-height: 1.6;
        font-weight: 700;
      }

      .name {
        position: absolute;
        left: 0;
        right: 0;
        bottom: 0px;
        text-align: center;
        color: #333;
        font-weight: bold;
      }

      .back {
        color: #333;
        text-align: center;
        margin-top: 40px; /* Moved down from 30px */
        margin-left: 30px;
        margin-right: 30px;
        padding: 10px;
        border: 2px dashed #ff758c;
        border-radius: 10px;
        font-family: 'Poppins', sans-serif;
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-15px) rotate(3deg);
        }
        100% {
          transform: translateY(0) rotate(0deg);
        }
      }

      /* Fireworks for page 2 */
      .firework {
        position: absolute;
        width: 10px;
        height: 10px;
        border-radius: 50%;
        animation: explode 2s ease-out infinite;
        opacity: 1;
      }

      .firework:nth-child(1) {
        background-color: #ff5252;
        top: 70px; /* Adjusted position */
        left: 50px;
        animation-delay: 0.2s;
      }

      .firework:nth-child(2) {
        background-color: #ffeb3b;
        top: 120px; /* Adjusted position */
        left: 180px;
        animation-delay: 0.5s;
      }

      .firework:nth-child(3) {
        background-color: #2196f3;
        top: 220px; /* Adjusted position */
        left: 80px;
        animation-delay: 0.9s;
      }

      .firework:nth-child(4) {
        background-color: #4caf50;
        top: 170px; /* Adjusted position */
        left: 150px;
        animation-delay: 1.2s;
      }

      @keyframes explode {
        0% {
          transform: scale(0);
          opacity: 1;
        }
        50% {
          transform: scale(15);
          opacity: 0.5;
        }
        100% {
          transform: scale(30);
          opacity: 0;
        }
      }

      /* Confetti for page 3 */
      .confetti {
        position: absolute;
        width: 12px;
        height: 12px;
        animation: fall 3s linear infinite;
      }

      .confetti:nth-child(1) {
        background-color: #f44336;
        left: 20px;
        animation-delay: 0.2s;
      }

      .confetti:nth-child(2) {
        background-color: #2196f3;
        left: 60px;
        animation-delay: 0.7s;
      }

      .confetti:nth-child(3) {
        background-color: #ffeb3b;
        left: 120px;
        animation-delay: 1.2s;
      }

      .confetti:nth-child(4) {
        background-color: #4caf50;
        left: 180px;
        animation-delay: 0.5s;
      }

      .confetti:nth-child(5) {
        background-color: #9c27b0;
        left: 220px;
        animation-delay: 0.9s;
      }

      @keyframes fall {
        0% {
          top: -50px;
          transform: rotate(0deg);
        }
        100% {
          top: 400px;
          transform: rotate(360deg);
        }
      }

      /* Gift Box for Page 3 */
      .gift-box {
        position: absolute;
        width: 100px; /* Reduced from 120px */
        height: 100px; /* Reduced from 120px */
        background: linear-gradient(135deg, #ff7eb3, #ff758c);
        top: 150px; /* Moved down from 80px */
        left: 100px; /* Centered */
        animation: pulse 2s ease-in-out infinite;
        cursor: pointer;
        border-radius: 10px;
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      }

      .gift-lid {
        position: absolute;
        width: 120px; /* Adjusted for new box size */
        height: 25px; /* Reduced from 30px */
        background: linear-gradient(135deg, #d84c7b, #ff758c);
        top: -20px; /* Adjusted for new size */
        left: -10px;
        border-radius: 6px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
      }

      .gift-ribbon {
        position: absolute;
        width: 16px; /* Adjusted for new box size */
        height: 100px; /* Adjusted for new box size */
        background: linear-gradient(to bottom, #ffeb3b, #ffc107);
        top: 0;
        left: 42px; /* Centered on new box size */
        border-radius: 8px;
      }

      .gift-ribbon-horizontal {
        position: absolute;
        width: 100px; /* Adjusted for new box size */
        height: 16px; /* Adjusted for new box size */
        background: linear-gradient(to right, #ffeb3b, #ffc107);
        top: 42px; /* Centered on new box size */
        left: 0;
        border-radius: 8px;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      /* Volume slider styling */
      .volume-control {
        display: flex;
        align-items: center;
        gap: 5px;
        color: #333;
        font-weight: 500;
      }

      .volume-control input {
        width: 80px;
        height: 5px;
        -webkit-appearance: none;
        appearance: none;
        background: #ddd;
        border-radius: 5px;
        outline: none;
      }

      .volume-control input::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 15px;
        height: 15px;
        border-radius: 50%;
        background: #ff758c;
        cursor: pointer;
      }

      /* Click Confetti Animation */
      .confetti-piece {
        position: absolute;
        width: 10px;
        height: 10px;
        top: 0;
        opacity: 0;
        animation: confettiFall 5s ease-in-out forwards;
      }

      @keyframes confettiFall {
        0% {
          transform: translateY(0) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(1000px) rotate(720deg);
          opacity: 0;
        }
      }

      /* Status message */
      .status-message {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: rgba(0, 0, 0, 0.7);
        color: white;
        padding: 10px 20px;
        border-radius: 20px;
        font-size: 14px;
        z-index: 1000;
        opacity: 0;
        transition: opacity 0.3s;
      }
      
      /* Add spaces between text elements on page 3 */
      .gift-message {
        margin-top: 180px; /* Adjusted to appear below the gift box */
        margin-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div class="card-container">
      <div class="profile-image-container">
        <img id="celebrantImage" class="profile-image" src="HEuk6Cggq60-HD.jpg" alt="Celebrant" />
      </div>
      
      <div class="birthdayCard">
        <!-- Front Cover -->
        <div class="cardFront page">
          <h3 class="happy">HAPPY BIRTHDAY BECCAü§é</h3>
          <div class="balloons">
            <div class="balloon-1"></div>
            <div class="balloon-2"></div>
            <div class="balloon-3"></div>
            <div class="balloon-4"></div>
          </div>
        </div>

        <!-- Page 1 (Inside) -->
        <div class="cardInside page">
          <h3 class="back">HAPPY BIRTHDAY Beccaü§é</h3>
          <p>Dear Friend,</p>
          <p>
            Happy Birthday, my dear friend & sister. 
Today, I don‚Äôt just celebrate the day you were born‚ÄîI celebrate the day the world gained a voice of truth, a heart after Jesus, and a soul that keeps shining even when it doesn‚Äôt feel seen. You‚Äôve been more than a friend to me; you‚Äôve been a safe space, a prayer partner, a reminder that God's love shows up in people.
          </p>
          <p class="name">‚ù§Ô∏è</p>
        </div>

        <!-- Page 2 -->
        <div class="cardPage2 page">
          <h3 class="back">CELEBRATE!</h3>
          <!-- <div class="firework"></div>
          <div class="firework"></div>
          <div class="firework"></div>
          <div class="firework"></div> -->
          <p>
            
            Your channel‚Äî<a href="https://www.youtube.com/@biblewithbecca"> BibleWithBecca</a>‚Äîis more than content; it‚Äôs an altar. A space where people encounter the Word not just through knowledge, but through your heart. You don‚Äôt just talk about the Bible‚Äîyou live it. You carry Jesus with gentleness and boldness, and you‚Äôve shown me what it means to love Him both in the secret place and in the public square.
Thank you for the way you pour, the way you care, the way you show up even when life gets heavy. Thank you for being light. Real, raw, honest light.
          <p class="name">Continue ‚Üí</p>
        </div>
        <!-- Page 3 -->
        <div class="cardPage3 page">
          <h3 class="back">PRAYERüôè</h3>
          <!-- <div class="firework"></div>
          <div class="firework"></div>
          <div class="firework"></div>
          <div class="firework"></div> -->
          <p>
            As you step into this new chapter, I pray over you the words of Isaiah 58:11:
‚ÄúThe Lord will guide you always; He will satisfy your needs in a sun-scorched land and will strengthen your frame. You will be like a well-watered garden, like a spring whose waters never fail.‚Äù

That‚Äôs who you are to me, and to many‚Äîa well-watered garden. A spring that keeps giving.

I pray joy unspeakable, favor that opens doors before you even knock, and a peace so deep it silences every doubt. May your influence deepen, your fire grow stronger, and may your heart always stay tender to His whisper.
          <p class="name">Continue ‚Üí</p>
        </div>

        <!-- Page 4 -->
        <div class="cardPage4 page">
          <h3 class="back">YOUR GIFTüòÄ</h3>
          <div class="gift-box" id="giftBox">
            <div class="gift-lid"></div>
            <div class="gift-ribbon"></div>
            <div class="gift-ribbon-horizontal"></div>
          </div>
          <div class="confetti"></div>
          <div class="confetti"></div>
          <div class="confetti"></div>
          <div class="confetti"></div>
          <div class="confetti"></div>
          <p class="gift-message">Tap the gift box <br/>
            Keep becoming. Keep blooming. Keep being Becca‚Äîthe woman after God‚Äôs own heart. <br/> <br/>
With so much love, <br/>
Emmanuel.
          </p>
        </div>
      </div>

      <div class="navigation">
        <button id="prevBtn">Previous</button>
        <button id="nextBtn">Next</button>
      </div>
    </div>

    <div class="music-controls">
      <button id="playBtn">‚ñ∂ Play Music</button>
      <button id="pauseBtn">‚è∏Ô∏è Pause</button>
      <div class="volume-control">
        <span>üîä</span>
        <input type="range" id="volumeSlider" min="0" max="1" step="0.1" value="0.5">
      </div>
    </div>

    <div id="statusMessage" class="status-message"></div>

    <script>
      // Audio setup with multiple fallback options
      const audioSources = [
        'MORE_THAN_AFEELING-Forrest Frank.mp3'  // Fallback audio
      ];
      
      const birthdaySong = new Audio();
      birthdaySong.loop = true;
      birthdaySong.volume = 0.5; // Start with volume at 50%
      
      // Try to load audio sources
      let currentSourceIndex = 0;
      
      function loadAudio() {
        if (currentSourceIndex < audioSources.length) {
          birthdaySong.src = audioSources[currentSourceIndex];
          birthdaySong.onerror = () => {
            currentSourceIndex++;
            loadAudio();
          };
          birthdaySong.oncanplaythrough = () => {
            console.log('Audio loaded successfully');
          };
        } else {
          showStatus("‚ö†Ô∏è Music couldn't be loaded. Check your connection.");
        }
      }
      
      loadAudio();
      
      function showStatus(message, duration = 3000) {
        const statusEl = document.getElementById('statusMessage');
        statusEl.textContent = message;
        statusEl.style.opacity = 1;
        
        setTimeout(() => {
          statusEl.style.opacity = 0;
        }, duration);
      }
      
      // Play function with user interaction requirement workaround
      function playAudio() {
        const playPromise = birthdaySong.play();
        
        if (playPromise !== undefined) {
          playPromise.then(() => {
            showStatus("üéµ Music playing");
          }).catch(error => {
            console.log('Auto-play prevented by browser:', error);
            showStatus("üëÜ Click 'Play Music' to start the music");
          });
        }
      }
      
      // Try to play music when page loads after a short delay
      window.addEventListener('load', () => {
        setTimeout(playAudio, 1000);
        
        // Also add a visible click on the entire page to enable audio
        document.body.addEventListener('click', () => {
          if (birthdaySong.paused) {
            playAudio();
          }
        }, { once: true });
      });

      // Play and pause controls
      document.getElementById('playBtn').addEventListener('click', () => {
        playAudio();
      });

      document.getElementById('pauseBtn').addEventListener('click', () => {
        birthdaySong.pause();
        showStatus("‚è∏Ô∏è Music paused");
      });

      // Volume control
      document.getElementById('volumeSlider').addEventListener('input', (e) => {
        birthdaySong.volume = e.target.value;
      });

      // Card navigation
      const pages = document.querySelectorAll('.page');
      const nextBtn = document.getElementById('nextBtn');
      const prevBtn = document.getElementById('prevBtn');

      let currentPage = 0;
      const totalPages = pages.length - 1;

      // Initial state
      updateCardState();

      nextBtn.addEventListener('click', () => {
        if (currentPage < totalPages) {
          currentPage++;
          updateCardState();
        }
      });

      prevBtn.addEventListener('click', () => {
        if (currentPage > 0) {
          currentPage--;
          updateCardState();
        }
      });

      function updateCardState() {
        // Reset all pages
        pages.forEach((page, index) => {
          if (index < currentPage) {
            // Pages before current are flipped
            page.style.transform = 'rotateY(-180deg)';
          } else {
            // Current and future pages are not flipped
            page.style.transform = 'rotateY(0deg)';
          }
        });

        // Update button states
        prevBtn.disabled = currentPage === 0;
        nextBtn.disabled = currentPage === totalPages;
      }

      // Gift box confetti explosion
      const giftBox = document.getElementById('giftBox');
      
      giftBox.addEventListener('click', createConfettiExplosion);
      
      function createConfettiExplosion() {
        // Play a sound effect
        const popSound = new Audio('https://cdnjs.cloudflare.com/ajax/libs/himesama-utils/1.0.0/audio/pop.mp3');
        popSound.volume = birthdaySong.volume * 1.5; // Slightly louder than music
        popSound.play().catch(e => console.log('Could not play pop sound', e));
        
        // Create confetti pieces
        const colors = ['#ff5252', '#ffeb3b', '#2196f3', '#4caf50', '#9c27b0', '#f48fb1', '#ffcc80'];
        
        for (let i = 0; i < 100; i++) {
          const confetti = document.createElement('div');
          confetti.className = 'confetti-piece';
          
          // Random styles
          confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
          confetti.style.width = Math.random() * 10 + 5 + 'px';
          confetti.style.height = Math.random() * 10 + 5 + 'px';
          confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '3px';
          
          // Random positions
          const giftRect = giftBox.getBoundingClientRect();
          const startX = giftRect.left + giftRect.width/2 - window.scrollX;
          const startY = giftRect.top + giftRect.height/2 - window.scrollY;
          
          confetti.style.left = startX + 'px';
          confetti.style.top = startY + 'px';
          
          // Random animation
          const animDuration = Math.random() * 3 + 2 + 's'; // 2-5 seconds
          confetti.style.animationDuration = animDuration;
          
          // Random trajectory
          const angle = Math.random() * 360;
          const distance = Math.random() * 300 + 50;
          const deltaX = distance * Math.cos(angle * Math.PI / 180);
          const deltaY = distance * Math.sin(angle * Math.PI / 180);
          
          confetti.style.transform = `translate(${deltaX}px, ${deltaY}px) rotate(${Math.random() * 360}deg)`;
          
          document.body.appendChild(confetti);
          
          // Remove after animation completes
          setTimeout(() => {
            if (document.body.contains(confetti)) {
              document.body.removeChild(confetti);
            }
          }, (parseFloat(animDuration) * 1000));
        }
        
        // Animate the gift box
        giftBox.style.animation = 'none';
        setTimeout(() => {
          giftBox.style.animation = 'pulse 2s ease-in-out infinite';
        }, 10);
        
        showStatus("üéâ Surprise! Happy Birthday!");
      }
      
      // Function to handle image upload (placeholder for demonstration)
      function handleImageUpload() {
        // In a real implementation, you would use a file input element
        // For now, we'll just show a placeholder message
        showStatus("To add a celebrant image, add an upload button to this page");
      }
    </script>
  </body>
</html>